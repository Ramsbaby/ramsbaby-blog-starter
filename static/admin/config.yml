local_backend: true

publish_mode: editorial_workflow

backend:
  name: git-gateway
  branch: master

media_folder: static/uploads
public_folder: /uploads

collections:
  - name: blog
    label: Blog
    folder: content/blog
    create: true
    slug: '{{slug}}'
    extension: md
    fields:
      - { label: Title, name: title, widget: string }
      - { label: Date, name: date, widget: datetime }
      - { label: Category, name: category, widget: string }
      - { label: Tags, name: tags, widget: list }
      - { label: Thumbnail, name: thumbnail, widget: image, required: false }
      - { label: Draft, name: draft, widget: boolean, default: false }
      - { label: Body, name: body, widget: markdown }
  - name: settings
    label: Settings
    files:
      - file: content/settings/site.json
        label: Site
        name: site
        fields:
          - {
              label: Newsletter Provider,
              name: newsletterProvider,
              widget: select,
              options: [selfhosted, buttondown, mailchimp],
              default: buttondown,
            }
          - {
              label: Newsletter Action URL,
              name: newsletterAction,
              widget: string,
              required: false,
            }
  - name: subscribers
    label: Subscribers
    editor:
      preview: false
    files:
      - file: content/settings/subscribers.json
        label: Subscribers
        name: list
        fields:
          - {
              label: Viewer,
              name: viewer,
              widget: subscribers,
              required: false,
            }
